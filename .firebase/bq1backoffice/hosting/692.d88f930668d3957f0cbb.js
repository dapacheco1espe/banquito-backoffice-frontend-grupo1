"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[692],{692:(v,p,d)=>{d.r(p),d.d(p,{AgencyModule:()=>we});var u=d(8583),c=d(3423),h=d(8288),f=d(8259),g=d.n(f),e=d(7716),s=d(3949),l=d(3679);function b(o,a){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function _(o,a){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function A(o,a){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.uuid),e.xp6(1),e.hij(" ",t.name," ")}}function y(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"input",21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().searchTerm=i}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.searchTerm)}}function C(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().filterData()}),e.TgZ(1,"div",7),e.O4$(),e.TgZ(2,"svg",8),e._UZ(3,"path",23),e.qZA(),e.kcU(),e.TgZ(4,"span",10),e._uU(5,"Buscar"),e.qZA(),e.qZA(),e.qZA()}}function T(o,a){1&o&&(e.TgZ(0,"div",24),e._uU(1," Por favor, selecciona una provincia, un cant\xf3n y una parroquia para ver los resultados. "),e.qZA())}function x(o,a){1&o&&(e.TgZ(0,"div",25),e._uU(1," Parece que no hay nada aqu\xed. "),e.qZA())}const q=function(o){return{"selected-row":o}};function U(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr",30),e.TgZ(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",31),e._uU(4),e.qZA(),e.TgZ(5,"td",31),e._uU(6),e.qZA(),e.TgZ(7,"td",31),e.TgZ(8,"span",32),e._uU(9,"ACTIVO"),e.qZA(),e.qZA(),e.TgZ(10,"td",31),e._uU(11),e.qZA(),e.TgZ(12,"td",31),e._uU(13),e.qZA(),e.TgZ(14,"td",31),e._uU(15),e.qZA(),e.TgZ(16,"td",31),e.TgZ(17,"div",33),e.TgZ(18,"a",34),e.O4$(),e.TgZ(19,"svg",8),e._UZ(20,"path",35),e.qZA(),e.qZA(),e.kcU(),e.TgZ(21,"a",36),e.O4$(),e.TgZ(22,"svg",8),e._UZ(23,"path",37),e.qZA(),e.qZA(),e.kcU(),e.TgZ(24,"a",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).mostrarAdvertencia(r.code)}),e.O4$(),e.TgZ(25,"svg",8),e._UZ(26,"path",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,n=a.index,i=e.oxw(2);e.Q6J("ngClass",e.VKq(11,q,i.selectedRowIndex===t.id)),e.xp6(2),e.Oqu(n+1),e.xp6(2),e.hij(" ",t.locationName," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(5),e.hij(" ",t.emailAddress," "),e.xp6(2),e.hij(" ",t.phoneNumber," "),e.xp6(2),e.hij(" ",t.line1+" "+t.line2," "),e.xp6(3),e.MGl("routerLink","./detail/",t.code,""),e.xp6(3),e.cQ8("routerLink","./update/",t.code,"/",i.selectedProvincia,"/",i.selectedCanton,"")}}function w(o,a){if(1&o&&(e.TgZ(0,"div",26),e.TgZ(1,"table",27),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",28),e._uU(5,"Nro."),e.qZA(),e.TgZ(6,"th",28),e._uU(7,"Ubicaci\xf3n"),e.qZA(),e.TgZ(8,"th",28),e._uU(9,"Nombre"),e.qZA(),e.TgZ(10,"th",28),e._uU(11,"Estado"),e.qZA(),e.TgZ(12,"th",28),e._uU(13,"Email"),e.qZA(),e.TgZ(14,"th",28),e._uU(15,"Tel\xe9fono"),e.qZA(),e.TgZ(16,"th",28),e._uU(17,"Direcci\xf3n"),e.qZA(),e.TgZ(18,"th",28),e._uU(19,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,U,27,13,"tr",29),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",t.displayedData)}}let M=(()=>{class o{constructor(t,n){this.agencyService=t,this.router=n,this.agencies=[],this.filteredAgencies=[],this.searchTerm="",this.selectedRowIndex=-1,this.showButtons=!1,this.showNav=!1,this.currentPage=1,this.pageSize=5,this.provincias=[],this.cantones=[],this.parroquias=[],this.selectedProvincia="",this.selectedCanton="",this.selectedParroquia="",this.showSearch=!1}ngOnInit(){this.getProvincias()}getAgencies(t){this.agencyService.list(t).subscribe(n=>{console.log(n),this.agencies=n,console.log(this.agencies),this.showSearch=!0})}filterData(){this.filteredAgencies=this.agencies.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.emailAddress.toLowerCase().includes(this.searchTerm.toLowerCase())||t.phoneNumber.toLowerCase().includes(this.searchTerm.toLowerCase())||t.line1.toLowerCase().includes(this.searchTerm.toLowerCase())||t.line2.toLowerCase().includes(this.searchTerm.toLowerCase())),this.showButtons=!1}get displayedData(){const t=(this.currentPage-1)*this.pageSize,n=t+this.pageSize;return this.agencies.filter(i=>i.name.toLowerCase().includes(this.searchTerm.toLowerCase())||i.emailAddress.toLowerCase().includes(this.searchTerm.toLowerCase())||i.phoneNumber.toLowerCase().includes(this.searchTerm.toLowerCase())||i.line1.toLowerCase().includes(this.searchTerm.toLowerCase())||i.line2.toLowerCase().includes(this.searchTerm.toLowerCase())).slice(t,n)}rowClick(t){this.selectedRowIndex=t,this.showButtons=!0,console.log(this.selectedRowIndex)}resetSelection(){this.selectedRowIndex=-1,this.showButtons=!1}get totalPages(){return console.log(Array(Math.ceil(this.agencies.length/this.pageSize)).fill(0).map((t,n)=>n+1)),Array(Math.ceil(this.agencies.length/this.pageSize)).fill(0).map((t,n)=>n+1)}setCurrentPage(t){this.currentPage=t}onSelectProvincia(t){this.showSearch=!1,console.log(t),this.selectedProvincia=t,this.selectedCanton="",this.selectedParroquia="",this.parroquias=[],this.getCantonesPorProvincia(t)}onSelectCanton(t){this.showSearch=!1,this.selectedCanton=t,this.selectedParroquia="",this.getParroquiasPorCanton(t)}onSelectParroquia(t){this.selectedParroquia=t,console.log(t),this.getAgencies(t)}getProvincias(){this.agencyService.listProv().subscribe(t=>{console.log(t),this.provincias=t,console.log(this.provincias)})}getCantonesPorProvincia(t){this.agencyService.listCant(t).subscribe(n=>{console.log(n),this.cantones=n,console.log(this.cantones)})}getParroquiasPorCanton(t){this.agencyService.listParr(t).subscribe(n=>{console.log(n),this.parroquias=n,console.log(this.parroquias)})}mostrarAdvertencia(t){g().fire({title:"Advertencia",text:"Esta acci\xf3n inactivar\xe1 el registro. \xbfEst\xe1s seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S\xed, borrar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&this.agencyService.delete(t).subscribe(i=>{g().fire("Listo","El registro ha sido deshabilitado","success").then(()=>{this.router.navigate(["/admin/agency"])})},i=>{g().fire({title:"Error",text:"Hubo un error al ejecutra la transacci\xf3n",icon:"error"})})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.Y),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agency"]],decls:36,vars:11,consts:[[1,"w-full","rounded-md","bg-white","p-5"],[1,"flex","flex-wrap","w-full"],[1,"w-full","sm:w-1/2","md:w-1/3","lg:w-1/4","xl:w-1/4","m-2","hover:animate-spin"],[1,"mb-2","text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mb-2","text-base","tracking-tight","text-gray-900","dark:text-white"],[1,"flex","border-b","border-b-2","border-primary-500","py-2"],["type","button",1,"focus:outline-none","text-white","bg-green-700","hover:bg-green-800","focus:ring-4","focus:ring-green-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","mr-2","mb-2","dark:bg-green-600","dark:hover:bg-green-700","dark:focus:ring-green-800"],["routerLink","./create",1,"flex","items-center","justify-between"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-2"],[1,"relative","w-1/3","mr-2","mb-2"],[1,"block","appearance-none","w-full","bg-gray-200","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","appearance-none bg-transparent w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none","type","text","placeholder","Buscar por nombre, direcci\xf3n, telefono o email",3,"ngModel","ngModelChange",4,"ngIf"],["type","button","class","focus:outline-none text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",3,"click",4,"ngIf"],["class","bg-yellow-200 text-yellow-800 p-4 mt-4",4,"ngIf"],["class","bg-blue-200 text-blue-800 p-4 mt-4",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[3,"value"],["type","text","placeholder","Buscar por nombre, direcci\xf3n, telefono o email",1,"appearance-none","bg-transparent","w-full","text-gray-700","mr-3","py-1","px-2","leading-tight","focus:outline-none",3,"ngModel","ngModelChange"],["type","button",1,"focus:outline-none","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","mr-2","mb-2","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],[1,"bg-yellow-200","text-yellow-800","p-4","mt-4"],[1,"bg-blue-200","text-blue-800","p-4","mt-4"],[1,"overflow-x-auto"],[1,"border-collapse","w-full","table-auto","mt-4","overflow"],[1,"px-4","py-2"],["class","hover:bg-blue-100 text-sm",3,"ngClass",4,"ngFor","ngForOf"],[1,"hover:bg-blue-100","text-sm",3,"ngClass"],[1,"border","px-4","py-2","text-center"],[1,"bg-green-100","text-green-800","text-xs","font-medium","mr-2","px-2.5","py-0.5","rounded-full","dark:bg-green-900","dark:text-green-300"],[1,"flex","justify-center","items-center"],[1,"text-blue-500","hover:text-blue-700","p-1","cursor-pointer",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"],[1,"text-yellow-500","hover:text-yellow-700","p-1","cursor-pointer",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"],[1,"text-red-500","hover:text-red-700","p-1","cursor-pointer",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e.TgZ(4,"h5",3),e._uU(5," Gesti\xf3n de Agencias "),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"p",4),e._uU(8," Administra las agencias de BanQuito "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",5),e.TgZ(10,"button",6),e.TgZ(11,"div",7),e.O4$(),e.TgZ(12,"svg",8),e._UZ(13,"path",9),e.qZA(),e.kcU(),e.TgZ(14,"span",10),e._uU(15,"Agregar"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"select",12),e.NdJ("ngModelChange",function(r){return n.selectedProvincia=r})("ngModelChange",function(r){return n.onSelectProvincia(r)}),e.TgZ(18,"option",13),e._uU(19,"Provincia"),e.qZA(),e.YNc(20,b,2,2,"option",14),e.qZA(),e.qZA(),e.TgZ(21,"div",11),e.TgZ(22,"select",12),e.NdJ("ngModelChange",function(r){return n.selectedCanton=r})("ngModelChange",function(r){return n.onSelectCanton(r)}),e.TgZ(23,"option",13),e._uU(24,"Cant\xf3n"),e.qZA(),e.YNc(25,_,2,2,"option",14),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e.TgZ(27,"select",12),e.NdJ("ngModelChange",function(r){return n.selectedParroquia=r})("ngModelChange",function(r){return n.onSelectParroquia(r)}),e.TgZ(28,"option",13),e._uU(29,"Parroquia"),e.qZA(),e.YNc(30,A,2,2,"option",14),e.qZA(),e.qZA(),e.YNc(31,y,1,1,"input",15),e.YNc(32,C,6,0,"button",16),e.qZA(),e.YNc(33,T,2,0,"div",17),e.YNc(34,x,2,0,"div",18),e.YNc(35,w,22,1,"div",19),e.qZA()),2&t&&(e.xp6(17),e.Q6J("ngModel",n.selectedProvincia),e.xp6(3),e.Q6J("ngForOf",n.provincias),e.xp6(2),e.Q6J("ngModel",n.selectedCanton),e.xp6(3),e.Q6J("ngForOf",n.cantones),e.xp6(2),e.Q6J("ngModel",n.selectedParroquia),e.xp6(3),e.Q6J("ngForOf",n.parroquias),e.xp6(1),e.Q6J("ngIf",n.showSearch),e.xp6(1),e.Q6J("ngIf",n.showSearch),e.xp6(1),e.Q6J("ngIf",!n.selectedProvincia||!n.selectedCanton||!n.selectedParroquia),e.xp6(1),e.Q6J("ngIf",n.agencies.length<1),e.xp6(1),e.Q6J("ngIf",n.selectedProvincia&&n.selectedCanton&&n.selectedParroquia))},directives:[c.rH,l.EJ,l.JJ,l.On,l.YN,l.Kr,u.sg,u.O5,l.Fj,u.mk,c.yS],styles:[""],data:{animation:h.L}}),o})();function N(o,a){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function P(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function k(o,a){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function J(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function Q(o,a){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.uuid),e.xp6(1),e.hij(" ",t.name," ")}}function I(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function S(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function E(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function F(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," M\xednimo 5 caracteres, sin numeros, sin espacios vacios al final o principio y sin caracteres especiales* "),e.qZA())}function Y(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function L(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function O(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function R(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function B(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function j(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function z(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function $(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function D(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function G(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function H(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function K(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function X(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}let W=(()=>{class o{constructor(t,n){this.agencyService=t,this.router=n,this.isSaved=null,this.errorMessage=null,this.provincias=[],this.cantones=[],this.parroquias=[],this.selectedProvincia="",this.selectedCanton="",this.selectedParroquia="",this.handledProv="",this.handledCant="",this.handledParr=""}ngOnInit(){this.getProvincias()}onCreate(){this.validateForm()?this.agencyService.create({code:this.code,bankEntityId:"64b09cc56666b939a406a823",locationId:this.selectedParroquia,name:this.name,emailAddress:this.emailAddress,phoneNumber:this.phoneNumber,line1:this.line1,line2:this.line2,latitude:this.latitude,longitude:this.longitude}).subscribe(n=>{console.log("Hola"),g().fire({title:"\xa1\xc9xito!",text:"La nueva agencia se ha guardado correctamente.",icon:"success"}).then(()=>{this.isSaved=!0,this.errorMessage=null,this.router.navigate(["/admin/agency"])})},n=>{g().fire({title:"Error",text:"Error al guardar agencia. Por favor, int\xe9ntalo nuevamente.",icon:"error"}),this.isSaved=!1,this.errorMessage="Error al guardar la agencia. Por favor, int\xe9ntalo nuevamente."}):g().fire({title:"Error",text:"Error, datos incorrectos. Por favor, revise e intente nuevamente.",icon:"error"})}validateForm(){return this.code&&this.name&&this.emailAddress&&this.phoneNumber&&this.line1&&this.line2&&this.latitude&&this.longitude?/^BAQECEQ\d{3}$/.test(this.code)?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.emailAddress)?/^[\d\s()]+$/.test(this.phoneNumber)?(this.errorMessage=null,!0):(console.log("telf"),this.errorMessage="El n\xfamero debe contener el formato est\xe1ndar",!1):(console.log("email"),this.errorMessage="El email debe tener un estructura est\xe1ndar",!1):(console.log("baqeceq"),this.errorMessage="El codigo SWIFT debe seguir el formato estandar",!1):(this.errorMessage="Por favor, completa todos los campos.",console.log("if"),!1)}onSelectProvincia(t){console.log(t),this.selectedProvincia=t,this.selectedCanton="",this.selectedParroquia="",this.parroquias=[],this.getCantonesPorProvincia(t)}onSelectCanton(t){this.selectedCanton=t,this.selectedParroquia="",this.getParroquiasPorCanton(t)}onSelectParroquia(t){this.selectedParroquia=t,console.log(t)}getProvincias(){this.agencyService.listProv().subscribe(t=>{console.log(t),this.provincias=t,console.log(this.provincias)})}getCantonesPorProvincia(t){this.agencyService.listCant(t).subscribe(n=>{console.log(n),this.cantones=n,console.log(this.cantones)})}getParroquiasPorCanton(t){this.agencyService.listParr(t).subscribe(n=>{console.log(n),this.parroquias=n,console.log(this.parroquias)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.Y),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agency-create"]],decls:91,vars:33,consts:[[1,"w-full","rounded-md","bg-white","p-5","h-screen","flex","flex-col","items-center"],[1,"mb-5","text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],["novalidate","",1,"w-full","max-w-xl",3,"ngSubmit"],["f","ngForm"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","px-1","mb-6","md:mb-0"],["for","location",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],[1,"flex"],[1,"relative","w-1/3","mr-2","mb-2"],["name","provincia",1,"block","appearance-none","w-full","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-xs italic",4,"ngIf"],["name","canton",1,"block","appearance-none","w-full","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["name","parroquia",1,"block","appearance-none","w-full","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","px-1"],["for","code",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","code","name","code","placeholder","BAQECEQXXX","autocomplete","off","required","","pattern","^BAQECEQ\\d{3}$",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["class","text-yellow-500 text-xs italic",4,"ngIf"],["for","agencyName",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","agencyName","name","agencyName","placeholder","Agencia I\xf1aquito","autocomplete","off","required","","pattern","^[a-zA-Z\xc0-\xff\\u00f1\\u00d1]{5,}(\\s*[a-zA-Z\xc0-\xff\\u00f1\\u00d1]*)*[a-zA-Z\xc0-\xff\\u00f1\\u00d1]+$",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/2","px-1","mb-6","md:mb-0"],["for","emailAddress",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","email","id","emailAddress","name","emailAddress","placeholder","example@banquito.com","autocomplete","off","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/2","px-1"],["for","phoneNumber",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","(02)23456789 \xf3 0976543210","autocomplete","off","required","","pattern","^\\d{7,10}$",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","line1",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","line1","name","line1","placeholder","Av. Amazonas","autocomplete","off","required","",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","line2",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","line2","name","line2","placeholder","256 Thomas de Berlanga","autocomplete","off","required","",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","latitude",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","number","id","latitude","name","latitude","placeholder","-12.48467519385099","autocomplete","off","required","","pattern","^-?([0-8]?[0-9]\\.\\d+|90\\.0+)$",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","longitude",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","number","id","longitude","name","longitude","placeholder","-78.48467519385099","autocomplete","off","required","",1,"appearance-none","block","w-full","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"flex","items-center"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","mr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"],["href","/admin/agency",1,"inline-block","align-baseline","font-bold","text-sm","text-blue-500","hover:text-blue-800"],[3,"value"],[1,"text-red-500","text-xs","italic"],[1,"text-yellow-500","text-xs","italic"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"h5",1),e._uU(3," Crear Agencia "),e.qZA(),e.qZA(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return n.onCreate()}),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"label",6),e._uU(9," Locaci\xf3n "),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"select",9),e.NdJ("ngModelChange",function(r){return n.selectedProvincia=r})("ngModelChange",function(r){return n.onSelectProvincia(r)}),e.TgZ(13,"option",10),e._uU(14,"Provincia"),e.qZA(),e.YNc(15,N,2,2,"option",11),e.qZA(),e.YNc(16,P,2,0,"div",12),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"select",13),e.NdJ("ngModelChange",function(r){return n.selectedCanton=r})("ngModelChange",function(r){return n.onSelectCanton(r)}),e.TgZ(19,"option",10),e._uU(20,"Cant\xf3n"),e.qZA(),e.YNc(21,k,2,2,"option",11),e.qZA(),e.YNc(22,J,2,0,"div",12),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"select",14),e.NdJ("ngModelChange",function(r){return n.selectedParroquia=r})("ngModelChange",function(r){return n.onSelectParroquia(r)}),e.TgZ(25,"option",10),e._uU(26,"Parroquia"),e.qZA(),e.YNc(27,Q,2,2,"option",11),e.qZA(),e.YNc(28,I,2,0,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",15),e.TgZ(30,"label",16),e._uU(31," C\xf3digo SWIFT "),e.qZA(),e.TgZ(32,"input",17),e.NdJ("ngModelChange",function(r){return n.code=r}),e.qZA(),e.YNc(33,S,2,0,"div",12),e.YNc(34,E,2,0,"div",18),e.qZA(),e.qZA(),e.TgZ(35,"div",4),e.TgZ(36,"div",15),e.TgZ(37,"label",19),e._uU(38," Nombre de Agencia "),e.qZA(),e.TgZ(39,"input",20),e.NdJ("ngModelChange",function(r){return n.name=r}),e.qZA(),e.YNc(40,F,2,0,"div",12),e.YNc(41,Y,2,0,"div",18),e.qZA(),e.qZA(),e.TgZ(42,"div",4),e.TgZ(43,"div",21),e.TgZ(44,"label",22),e._uU(45," Email "),e.qZA(),e.TgZ(46,"input",23),e.NdJ("ngModelChange",function(r){return n.emailAddress=r}),e.qZA(),e.YNc(47,L,2,0,"div",12),e.YNc(48,O,2,0,"div",18),e.qZA(),e.TgZ(49,"div",24),e.TgZ(50,"label",25),e._uU(51," Numero de Tel\xe9fono "),e.qZA(),e.TgZ(52,"input",26),e.NdJ("ngModelChange",function(r){return n.phoneNumber=r}),e.qZA(),e.YNc(53,R,2,0,"div",12),e.YNc(54,B,2,0,"div",18),e.qZA(),e.qZA(),e.TgZ(55,"div",4),e.TgZ(56,"div",21),e.TgZ(57,"label",27),e._uU(58," Calle Principal "),e.qZA(),e.TgZ(59,"input",28),e.NdJ("ngModelChange",function(r){return n.line1=r}),e.qZA(),e.YNc(60,j,2,0,"div",12),e.YNc(61,z,2,0,"div",18),e.qZA(),e.TgZ(62,"div",21),e.TgZ(63,"label",29),e._uU(64," Calle Secundaria "),e.qZA(),e.TgZ(65,"input",30),e.NdJ("ngModelChange",function(r){return n.line2=r}),e.qZA(),e.YNc(66,$,2,0,"div",12),e.YNc(67,D,2,0,"div",18),e.qZA(),e.qZA(),e.TgZ(68,"div",4),e.TgZ(69,"div",21),e.TgZ(70,"label",31),e._uU(71," Latitud Geogr\xe1fica "),e.qZA(),e.TgZ(72,"input",32),e.NdJ("ngModelChange",function(r){return n.latitude=r}),e.qZA(),e.YNc(73,G,2,0,"div",12),e.YNc(74,H,2,0,"div",18),e.qZA(),e.TgZ(75,"div",21),e.TgZ(76,"label",33),e._uU(77," Longitud Geogr\xe1fica "),e.qZA(),e.TgZ(78,"input",34),e.NdJ("ngModelChange",function(r){return n.longitude=r}),e.qZA(),e.YNc(79,K,2,0,"div",12),e.YNc(80,X,2,0,"div",18),e.qZA(),e.qZA(),e.TgZ(81,"div",4),e.TgZ(82,"div",35),e.TgZ(83,"button",36),e.TgZ(84,"div",35),e.O4$(),e.TgZ(85,"svg",37),e._UZ(86,"path",38),e.qZA(),e.kcU(),e.TgZ(87,"span"),e._uU(88," Crear "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"a",39),e._uU(90," Regresar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(5);e.xp6(12),e.Q6J("ngModel",n.selectedProvincia),e.xp6(3),e.Q6J("ngForOf",n.provincias),e.xp6(1),e.Q6J("ngIf",i.submitted&&!n.selectedProvincia),e.xp6(2),e.Q6J("ngModel",n.selectedCanton),e.xp6(3),e.Q6J("ngForOf",n.cantones),e.xp6(1),e.Q6J("ngIf",i.submitted&&!n.selectedCanton),e.xp6(2),e.Q6J("ngModel",n.selectedParroquia),e.xp6(3),e.Q6J("ngForOf",n.parroquias),e.xp6(1),e.Q6J("ngIf",i.submitted&&!n.selectedParroquia),e.xp6(4),e.Q6J("ngModel",n.code),e.xp6(1),e.Q6J("ngIf",i.controls.code.value&&i.controls.code.invalid||i.submitted&&i.controls.code.invalid),e.xp6(1),e.Q6J("ngIf",""===n.code),e.xp6(5),e.Q6J("ngModel",n.name),e.xp6(1),e.Q6J("ngIf",i.controls.agencyName.value&&i.controls.agencyName.invalid||i.submitted&&i.controls.agencyName.invalid),e.xp6(1),e.Q6J("ngIf",""===n.name),e.xp6(5),e.Q6J("ngModel",n.emailAddress),e.xp6(1),e.Q6J("ngIf",i.controls.emailAddress.value&&i.controls.emailAddress.invalid||i.submitted&&i.controls.emailAddress.invalid),e.xp6(1),e.Q6J("ngIf",""===n.emailAddress),e.xp6(4),e.Q6J("ngModel",n.phoneNumber),e.xp6(1),e.Q6J("ngIf",i.controls.phoneNumber.value&&i.controls.phoneNumber.invalid||i.submitted&&i.controls.phoneNumber.invalid),e.xp6(1),e.Q6J("ngIf",""===n.phoneNumber),e.xp6(5),e.Q6J("ngModel",n.line1),e.xp6(1),e.Q6J("ngIf",i.controls.line1.value&&i.controls.line1.invalid||i.submitted&&i.controls.line1.invalid),e.xp6(1),e.Q6J("ngIf",""===n.line1),e.xp6(4),e.Q6J("ngModel",n.line2),e.xp6(1),e.Q6J("ngIf",i.controls.line2.value&&i.controls.line2.invalid||i.submitted&&i.controls.line2.invalid),e.xp6(1),e.Q6J("ngIf",""===n.line2),e.xp6(5),e.Q6J("ngModel",n.latitude),e.xp6(1),e.Q6J("ngIf",i.controls.latitude.value&&i.controls.latitude.invalid||i.submitted&&i.controls.latitude.invalid),e.xp6(1),e.Q6J("ngIf",null===n.latitude),e.xp6(4),e.Q6J("ngModel",n.longitude),e.xp6(1),e.Q6J("ngIf",i.controls.longitude.value&&i.controls.longitude.invalid||i.submitted&&i.controls.longitude.invalid),e.xp6(1),e.Q6J("ngIf",null===n.longitude||null===n.longitude&&i.submitted)}},directives:[l._Y,l.JL,l.F,l.EJ,l.JJ,l.On,l.YN,l.Kr,u.sg,u.O5,l.Fj,l.Q7,l.c5,l.wV],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),o})(),V=(()=>{class o{constructor(t,n,i){this.agencyService=t,this.router=n,this.activatedRoute=i,this.dataUrl={}}ngOnInit(){this.getDetail()}getDetail(){this.agencyService.detail(this.activatedRoute.snapshot.params.id).subscribe(n=>{this.dataUrl=n,console.log(this.dataUrl)},n=>{console.log("No encuentra NADA"),g().fire("Advertencia","El registro no existe","warning").then(()=>{this.router.navigate(["/admin/agency"])})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.Y),e.Y36(c.F0),e.Y36(c.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agency-detail"]],decls:72,vars:9,consts:[[1,"w-full","rounded-md","bg-white","p-5","h-screen","flex","flex-col","items-center"],[1,"mb-5","text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"w-full","max-w-xl"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","md:w-1/2","px-1","mb-6","md:mb-0"],[1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],[1,"block","appearance-none","w-full","bg-gray-200","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500","disabled"],[1,"w-full","md:w-1/2","px-1"],[1,"w-full","px-1"],[1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500"],[1,"flex","items-center"],["href","/admin/agency",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","mr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"h5",1),e._uU(3," Detalle de la Agencia "),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"label",5),e._uU(8," Locaci\xf3n "),e.qZA(),e.TgZ(9,"div"),e.TgZ(10,"div",6),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"label",5),e._uU(14," C\xf3digo SWIFT "),e.qZA(),e.TgZ(15,"div"),e.TgZ(16,"div",6),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",3),e.TgZ(19,"div",8),e.TgZ(20,"label",5),e._uU(21," Nombre de Agencia "),e.qZA(),e.TgZ(22,"div"),e.TgZ(23,"div",6),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",3),e.TgZ(26,"div",4),e.TgZ(27,"label",5),e._uU(28," Email "),e.qZA(),e.TgZ(29,"div"),e.TgZ(30,"div",6),e._uU(31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",7),e.TgZ(33,"label",5),e._uU(34," Numero de Tel\xe9fono "),e.qZA(),e.TgZ(35,"div"),e.TgZ(36,"div",9),e._uU(37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",3),e.TgZ(39,"div",4),e.TgZ(40,"label",5),e._uU(41," Calle Principal "),e.qZA(),e.TgZ(42,"div"),e.TgZ(43,"div",6),e._uU(44),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",7),e.TgZ(46,"label",5),e._uU(47," Calle Secundaria "),e.qZA(),e.TgZ(48,"div"),e.TgZ(49,"div",9),e._uU(50),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",3),e.TgZ(52,"div",4),e.TgZ(53,"label",5),e._uU(54," Latitud Geogr\xe1fica "),e.qZA(),e.TgZ(55,"div"),e.TgZ(56,"div",9),e._uU(57),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",4),e.TgZ(59,"label",5),e._uU(60," Longitud Geogr\xe1fica "),e.qZA(),e.TgZ(61,"div"),e.TgZ(62,"div",9),e._uU(63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",3),e.TgZ(65,"div",10),e.TgZ(66,"a",11),e.TgZ(67,"div",10),e.O4$(),e.TgZ(68,"svg",12),e._UZ(69,"path",13),e.qZA(),e.kcU(),e.TgZ(70,"span"),e._uU(71," Regresar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(11),e.hij(" ",n.dataUrl.locationName," "),e.xp6(6),e.hij(" ",n.dataUrl.code," "),e.xp6(7),e.hij(" ",n.dataUrl.name," "),e.xp6(7),e.hij(" ",n.dataUrl.emailAddress," "),e.xp6(6),e.hij(" ",n.dataUrl.phoneNumber," "),e.xp6(7),e.hij(" ",n.dataUrl.line1," "),e.xp6(6),e.hij(" ",n.dataUrl.line2," "),e.xp6(7),e.hij(" ",n.dataUrl.latitude," "),e.xp6(6),e.hij(" ",n.dataUrl.longitude," "))},styles:[""]}),o})();class ee{constructor(a,t,n,i,r,m,Me,Ne,Pe,ke,Je,Qe,Ie){this.bankEntityId=a,this.locationId=t,this.code=n,this.name=i,this.uniqueKey=r,this.state=m,this.emailAddress=Me,this.phoneNumber=Ne,this.line1=Pe,this.line2=ke,this.creationDate=Je,this.latitude=Qe,this.longitude=Ie}}var te=d(2340),Z=d(1841);let ne=(()=>{class o{constructor(t){this.http=t,this.baseURL=te.N.administrationAPIUrl+"/api/v1/geoLocation"}getGeoById(t){return this.http.get(this.baseURL+"/findByUuid/"+t)}create(t){return this.http.post(this.baseURL+"/create",t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Z.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function oe(o,a){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function ie(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function ae(o,a){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function re(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function le(o,a){if(1&o&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.uuid),e.xp6(1),e.hij(" ",t.name," ")}}function se(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function de(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function ge(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," M\xednimo 5 caracteres, sin numeros, sin espacios vacios al final o principio y sin caracteres especiales* "),e.qZA())}function ce(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function ue(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function pe(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function me(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function he(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function fe(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function Ze(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function ve(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Campo Obligatorio* "),e.qZA())}function be(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function _e(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function Ae(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}function ye(o,a){1&o&&(e.TgZ(0,"div",41),e._uU(1," Revisa el formato* "),e.qZA())}function Ce(o,a){1&o&&(e.TgZ(0,"div",42),e._uU(1," Campo Obligatorio* "),e.qZA())}const Te=[{path:"",component:M},{path:"create",component:W},{path:"detail/:id",component:V},{path:"update/:id/:prov/:cant",component:(()=>{class o{constructor(t,n,i,r){this.agencyService=t,this.router=n,this.activatedRoute=i,this.geolocationService=r,this.dataUrl={},this.isSaved=null,this.errorMessage=null,this.provincias=[],this.cantones=[],this.parroquias=[],this.selectedProvincia="",this.selectedCanton="",this.selectedParroquia="",this.handledProv="",this.handledCant="",this.handledParr=""}ngOnInit(){this.getDetail(),this.getProvincias()}getDetail(){const n=this.activatedRoute.snapshot.params.prov,i=this.activatedRoute.snapshot.params.cant;this.agencyService.detail(this.activatedRoute.snapshot.params.id).subscribe(r=>{this.dataUrl=r,console.log("getDetail update",this.dataUrl),this.id=this.dataUrl.id||0,this.ubication=this.dataUrl.ubication||"",this.code=this.dataUrl.code||"",this.name=this.dataUrl.name||"",this.uniqueKey=this.dataUrl.uniqueKey||"",this.state=this.dataUrl.state||"",this.emailAddress=this.dataUrl.emailAddress||"",this.phoneNumber=this.dataUrl.phoneNumber||"",this.line1=this.dataUrl.line1||"",this.line2=this.dataUrl.line2||"",this.creationDate=this.dataUrl.creationDate||"",this.latitude=this.dataUrl.latitude||0,this.longitude=this.dataUrl.longitude||0,this.handledProv=n,this.handledCant=i,this.geolocationService.getGeoById(this.dataUrl.locationId).subscribe(m=>{this.aux=m,this.handledParr=this.aux.name})},r=>{console.log("No encuentra NADA"),g().fire("Advertencia","El registro no existe","warning").then(()=>{this.router.navigate(["/admin/agency"])})})}onUpdate(){if(!this.validateForm())return void g().fire({title:"Error",text:"Error, datos incorrectos. Por favor, revise e intente nuevamente.",icon:"error"});const t=this.activatedRoute.snapshot.params.id;new ee("64b75a14b60d240c0e96e608",this.selectedParroquia,this.code,this.name,this.uniqueKey,this.state,this.emailAddress,this.phoneNumber,this.line1,this.line2,this.creationDate,this.latitude,this.longitude),this.agencyService.update(t,{name:this.name,emailAddress:this.emailAddress,phoneNumber:this.phoneNumber,line1:this.line1,line2:this.line2,latitude:this.latitude,longitude:this.longitude,locationId:this.selectedParroquia}).subscribe(r=>{console.log("Hola"),g().fire({title:"\xa1\xc9xito!",text:"La agencia se ha actualizado correctamente.",icon:"success"}).then(()=>{this.isSaved=!0,this.errorMessage=null,this.router.navigate(["/admin/agency"])})},r=>{g().fire({title:"Error",text:"Error al guardar agencia. Por favor, int\xe9ntalo nuevamente.",icon:"error"}),this.isSaved=!1,this.errorMessage="Error al guardar la agencia. Por favor, int\xe9ntalo nuevamente."})}validateForm(){return this.code&&this.name&&this.emailAddress&&this.phoneNumber&&this.line1&&this.line2&&this.latitude&&this.longitude?/^BAQECEQ\d{3}$/.test(this.code)?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.emailAddress)?/^[\d\s()]+$/.test(this.phoneNumber)?(this.errorMessage=null,!0):(console.log("telf"),this.errorMessage="El n\xfamero debe contener el formato est\xe1ndar",!1):(console.log("email"),this.errorMessage="El email debe tener un estructura est\xe1ndar",!1):(console.log("baqeceq"),this.errorMessage="El codigo SWIFT debe seguir el formato estandar",!1):(this.errorMessage="Por favor, completa todos los campos.",console.log("if"),!1)}onSelectProvincia(t){console.log(t),this.selectedProvincia=t,this.selectedCanton="",this.selectedParroquia="",this.parroquias=[],this.getCantonesPorProvincia(t)}onSelectCanton(t){this.selectedCanton=t,this.selectedParroquia="",this.getParroquiasPorCanton(t)}onSelectParroquia(t){this.selectedParroquia=t,console.log(t)}getProvincias(){this.agencyService.listProv().subscribe(t=>{console.log(t),this.provincias=t,console.log(this.provincias)})}getCantonesPorProvincia(t){this.agencyService.listCant(t).subscribe(n=>{console.log(n),this.cantones=n,console.log(this.cantones)})}getParroquiasPorCanton(t){this.agencyService.listParr(t).subscribe(n=>{console.log(n),this.parroquias=n,console.log(this.parroquias)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.Y),e.Y36(c.F0),e.Y36(c.gz),e.Y36(ne))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agency-update"]],decls:90,vars:32,consts:[[1,"w-full","rounded-md","bg-white","p-5","h-screen","flex","flex-col","items-center"],[1,"mb-5","text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],["novalidate","",1,"w-full","max-w-xl",3,"ngSubmit"],["f","ngForm"],[1,"flex","flex-wrap","-mx-3","mb-6"],[1,"w-full","px-1","mb-6","md:mb-0"],["for","location",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],[1,"flex"],[1,"relative","w-1/3","mr-2","mb-2"],["name","provincia",1,"block","appearance-none","w-full","bg-gray-200","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-xs italic",4,"ngIf"],["name","canton",1,"block","appearance-none","w-full","bg-gray-200","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["name","parroquia",1,"block","appearance-none","w-full","bg-gray-200","border","border-gray-200","text-gray-700","py-3","px-4","pr-8","rounded","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","px-1"],["for","code",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","code","name","code","placeholder","BAQECEQXXX","autocomplete","off","required","","pattern","^BAQECEQ\\d{3}$","disabled","",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","agencyName",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","agencyName","name","agencyName","placeholder","Agencia I\xf1aquito","autocomplete","off","required","",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["class","text-yellow-500 text-xs italic",4,"ngIf"],[1,"w-full","md:w-1/2","px-1","mb-6","md:mb-0"],["for","emailAddress",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","email","id","emailAddress","name","emailAddress","placeholder","example@banquito.com","autocomplete","off","required","","pattern","^^\\S+@\\S+\\.\\S+$",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"w-full","md:w-1/2","px-1"],["for","phoneNumber",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","(02)23456789 \xf3 0976543210","autocomplete","off","required","","pattern","^[\\d\\s()]+$",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","line1",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","line1","name","line1","placeholder","Av. Amazonas","autocomplete","off","required","",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","line2",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","text","id","line2","name","line2","placeholder","256 Thomas de Berlanga","autocomplete","off","required","",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","latitude",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","number","id","latitude","name","latitude","placeholder","-12.48467519385099","autocomplete","off","required","","pattern","^-?([0-8]?[0-9]\\.\\d+|90\\.0+)$",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],["for","longitude",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["type","number","id","longitude","name","longitude","placeholder","-78.48467519385099","autocomplete","off","required","",1,"appearance-none","block","w-full","bg-gray-200","text-gray-700","border","border-gray-200","rounded","py-3","px-4","leading-tight","focus:outline-none","focus:bg-white","focus:border-gray-500",3,"ngModel","ngModelChange"],[1,"flex","items-center"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","mr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"],["href","/admin/agency",1,"inline-block","align-baseline","font-bold","text-sm","text-blue-500","hover:text-blue-800"],[3,"value"],[1,"text-red-500","text-xs","italic"],[1,"text-yellow-500","text-xs","italic"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div"),e.TgZ(2,"h5",1),e._uU(3," Modificar Agencia "),e.qZA(),e.qZA(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return n.onUpdate()}),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"label",6),e._uU(9," Locaci\xf3n "),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"select",9),e.NdJ("ngModelChange",function(r){return n.selectedProvincia=r})("ngModelChange",function(r){return n.onSelectProvincia(r)}),e.TgZ(13,"option",10),e._uU(14,"Provincia"),e.qZA(),e.YNc(15,oe,2,2,"option",11),e.qZA(),e.YNc(16,ie,2,0,"div",12),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"select",13),e.NdJ("ngModelChange",function(r){return n.selectedCanton=r})("ngModelChange",function(r){return n.onSelectCanton(r)}),e.TgZ(19,"option",10),e._uU(20,"Cant\xf3n"),e.qZA(),e.YNc(21,ae,2,2,"option",11),e.qZA(),e.YNc(22,re,2,0,"div",12),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"select",14),e.NdJ("ngModelChange",function(r){return n.selectedParroquia=r})("ngModelChange",function(r){return n.onSelectParroquia(r)}),e.TgZ(25,"option",10),e._uU(26,"Parroquia"),e.qZA(),e.YNc(27,le,2,2,"option",11),e.qZA(),e.YNc(28,se,2,0,"div",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",15),e.TgZ(30,"label",16),e._uU(31," C\xf3digo SWIFT "),e.qZA(),e.TgZ(32,"input",17),e.NdJ("ngModelChange",function(r){return n.code=r}),e.qZA(),e.YNc(33,de,2,0,"div",12),e.qZA(),e.qZA(),e.TgZ(34,"div",4),e.TgZ(35,"div",15),e.TgZ(36,"label",18),e._uU(37," Nombre de Agencia "),e.qZA(),e.TgZ(38,"input",19),e.NdJ("ngModelChange",function(r){return n.name=r}),e.qZA(),e.YNc(39,ge,2,0,"div",12),e.YNc(40,ce,2,0,"div",20),e.qZA(),e.qZA(),e.TgZ(41,"div",4),e.TgZ(42,"div",21),e.TgZ(43,"label",22),e._uU(44," Email "),e.qZA(),e.TgZ(45,"input",23),e.NdJ("ngModelChange",function(r){return n.emailAddress=r}),e.qZA(),e.YNc(46,ue,2,0,"div",12),e.YNc(47,pe,2,0,"div",20),e.qZA(),e.TgZ(48,"div",24),e.TgZ(49,"label",25),e._uU(50," Numero de Tel\xe9fono "),e.qZA(),e.TgZ(51,"input",26),e.NdJ("ngModelChange",function(r){return n.phoneNumber=r}),e.qZA(),e.YNc(52,me,2,0,"div",12),e.YNc(53,he,2,0,"div",20),e.qZA(),e.qZA(),e.TgZ(54,"div",4),e.TgZ(55,"div",21),e.TgZ(56,"label",27),e._uU(57," Calle Principal "),e.qZA(),e.TgZ(58,"input",28),e.NdJ("ngModelChange",function(r){return n.line1=r}),e.qZA(),e.YNc(59,fe,2,0,"div",12),e.YNc(60,Ze,2,0,"div",20),e.qZA(),e.TgZ(61,"div",21),e.TgZ(62,"label",29),e._uU(63," Calle Secundaria "),e.qZA(),e.TgZ(64,"input",30),e.NdJ("ngModelChange",function(r){return n.line2=r}),e.qZA(),e.YNc(65,ve,2,0,"div",12),e.YNc(66,be,2,0,"div",20),e.qZA(),e.qZA(),e.TgZ(67,"div",4),e.TgZ(68,"div",21),e.TgZ(69,"label",31),e._uU(70," Latitud Geogr\xe1fica "),e.qZA(),e.TgZ(71,"input",32),e.NdJ("ngModelChange",function(r){return n.latitude=r}),e.qZA(),e.YNc(72,_e,2,0,"div",12),e.YNc(73,Ae,2,0,"div",20),e.qZA(),e.TgZ(74,"div",21),e.TgZ(75,"label",33),e._uU(76," Longitud Geogr\xe1fica "),e.qZA(),e.TgZ(77,"input",34),e.NdJ("ngModelChange",function(r){return n.longitude=r}),e.qZA(),e.YNc(78,ye,2,0,"div",12),e.YNc(79,Ce,2,0,"div",20),e.qZA(),e.qZA(),e.TgZ(80,"div",4),e.TgZ(81,"div",35),e.TgZ(82,"button",36),e.TgZ(83,"div",35),e.O4$(),e.TgZ(84,"svg",37),e._UZ(85,"path",38),e.qZA(),e.kcU(),e.TgZ(86,"span"),e._uU(87," Actualizar "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(88,"a",39),e._uU(89," Regresar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const i=e.MAs(5);e.xp6(12),e.Q6J("ngModel",n.selectedProvincia),e.xp6(3),e.Q6J("ngForOf",n.provincias),e.xp6(1),e.Q6J("ngIf",i.submitted&&!n.selectedProvincia),e.xp6(2),e.Q6J("ngModel",n.selectedCanton),e.xp6(3),e.Q6J("ngForOf",n.cantones),e.xp6(1),e.Q6J("ngIf",i.submitted&&!n.selectedCanton),e.xp6(2),e.Q6J("ngModel",n.selectedParroquia),e.xp6(3),e.Q6J("ngForOf",n.parroquias),e.xp6(1),e.Q6J("ngIf",i.submitted&&!n.selectedParroquia),e.xp6(4),e.Q6J("ngModel",n.code),e.xp6(1),e.Q6J("ngIf",i.controls.code.value&&i.controls.code.invalid||i.submitted&&i.controls.code.invalid),e.xp6(5),e.Q6J("ngModel",n.name),e.xp6(1),e.Q6J("ngIf",i.controls.agencyName.value&&i.controls.agencyName.invalid||i.submitted&&i.controls.agencyName.invalid),e.xp6(1),e.Q6J("ngIf",""===n.name),e.xp6(5),e.Q6J("ngModel",n.emailAddress),e.xp6(1),e.Q6J("ngIf",i.controls.emailAddress.value&&i.controls.emailAddress.invalid||i.submitted&&i.controls.emailAddress.invalid),e.xp6(1),e.Q6J("ngIf",""===n.emailAddress),e.xp6(4),e.Q6J("ngModel",n.phoneNumber),e.xp6(1),e.Q6J("ngIf",i.controls.phoneNumber.value&&i.controls.phoneNumber.invalid||i.submitted&&i.controls.phoneNumber.invalid),e.xp6(1),e.Q6J("ngIf",""===n.phoneNumber),e.xp6(5),e.Q6J("ngModel",n.line1),e.xp6(1),e.Q6J("ngIf",i.controls.line1.value&&i.controls.line1.invalid||i.submitted&&i.controls.line1.invalid),e.xp6(1),e.Q6J("ngIf",""===n.line1),e.xp6(4),e.Q6J("ngModel",n.line2),e.xp6(1),e.Q6J("ngIf",i.controls.line2.value&&i.controls.line2.invalid||i.submitted&&i.controls.line2.invalid),e.xp6(1),e.Q6J("ngIf",""===n.line2),e.xp6(5),e.Q6J("ngModel",n.latitude),e.xp6(1),e.Q6J("ngIf",i.controls.latitude.value&&i.controls.latitude.invalid||i.submitted&&i.controls.latitude.invalid),e.xp6(1),e.Q6J("ngIf",null===n.latitude),e.xp6(4),e.Q6J("ngModel",n.longitude),e.xp6(1),e.Q6J("ngIf",i.controls.longitude.value&&i.controls.longitude.invalid||i.submitted&&i.controls.longitude.invalid),e.xp6(1),e.Q6J("ngIf",null===n.longitude||null===n.longitude&&i.submitted)}},directives:[l._Y,l.JL,l.F,l.EJ,l.JJ,l.On,l.YN,l.Kr,u.sg,u.O5,l.Fj,l.Q7,l.c5,l.wV],styles:[""]}),o})()}];let xe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(Te)],c.Bz]}),o})();var qe=d(5939),Ue=d(4466);let we=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Ue.m,xe,qe.Nh,Z.JF,u.ez]]}),o})()},3949:(v,p,d)=>{d.d(p,{Y:()=>f});var u=d(2340),c=d(7716),h=d(1841);let f=(()=>{class g{constructor(s){this.http=s,this.baseURL=u.N.administrationAPIUrl+"/api/v1"}list(s){return this.http.get(this.baseURL+"/bankEntity/Branches-location-state/"+s+"/ACT")}listProv(){return this.http.get(this.baseURL+"/geoLocation/countryCode-levelCode/ECU/1")}listAllAgencies(){return this.http.get(this.baseURL+"/bankEntity/findAllBranches/ACT")}listCant(s){return console.log(this.baseURL+"/geoLocation/CountryCodeAndParentName?countryCode=ECU&parentName="+s),this.http.get(this.baseURL+"/geoLocation/CountryCodeAndParentName?countryCode=ECU&parentName="+s)}listParr(s){return this.http.get(this.baseURL+"/geoLocation/CountryCodeAndParentName?countryCode=ECU&parentName="+s)}create(s){return this.http.post(this.baseURL+"/bankEntity/addBranch",s)}detail(s){return this.http.get(this.baseURL+`/bankEntity/findBranch/${s}`)}update(s,l){return this.http.put(this.baseURL+"/bankEntity/updateBranch/"+s,l)}delete(s){return this.http.put(this.baseURL+"/bankEntity/deleteBranch/"+s,null)}}return g.\u0275fac=function(s){return new(s||g)(c.LFG(h.eN))},g.\u0275prov=c.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);