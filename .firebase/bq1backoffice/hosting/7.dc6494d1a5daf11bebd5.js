"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[7],{1007:(A,C,d)=>{d.d(C,{G:()=>L});class _{constructor(s,a,r,i,o,m,h,p,S,R,$,P){this.branchId=s,this.typeDocumentId=a,this.documentId=r,this.firstName=i,this.lastName=o,this.gender=m,this.birthDate=h,this.emailAddress=p,this.role=S,this.comments=R,this.phoneNumbers=$,this.addresses=P}}var v=d(8259),l=d.n(v),e=d(7716),t=d(4715),u=d(3423),g=d(3949),c=d(3679),b=d(8583);function T(n,s){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const a=s.$implicit;e.Q6J("value",a.code),e.xp6(1),e.Oqu(a.name)}}function M(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," Tipo de documento es requerido. "),e.qZA())}function y(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," N\xfamero de documento es requerido y debe contener solo 10 d\xedgitos num\xe9ricos. "),e.qZA())}function U(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," Nombre es requerido y debe contener solo letras. "),e.qZA())}function I(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," Apellido es requerido y debe contener solo letras. "),e.qZA())}function q(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," G\xe9nero es requerido. "),e.qZA())}function N(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," Fecha de nacimiento es requerida y debe ser anterior a la fecha actual. "),e.qZA())}function E(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," Correo electr\xf3nico es requerido y debe ser una direcci\xf3n de correo v\xe1lida. "),e.qZA())}function x(n,s){1&n&&(e.TgZ(0,"div",43),e._uU(1," Comentarios son requeridos. "),e.qZA())}const D=function(n,s){return{"text-green-500":n,"text-red-500":s}};function J(n,s){if(1&n&&(e.TgZ(0,"div",44),e.TgZ(1,"p",45),e._uU(2),e.qZA(),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(2,D,a.isSaved,!a.isSaved)),e.xp6(1),e.hij(" ",a.isSaved?"Usuario guardado con \xe9xito":"Error al guardar el usuario"," ")}}let L=(()=>{class n{constructor(a,r,i){this.clienteService=a,this.router=r,this.agencyService=i,this.role="Titular",this.agencias=[],this.isSaved=null,this.errorMessage=null}ngOnInit(){this.agencyService.listAllAgencies().subscribe(a=>{this.agencias=a}),console.log(this.agencias)}onCreate(){if(!(this.branchId&&this.typeDocumentId&&this.documentId&&this.firstName&&this.lastName&&this.gender&&this.birthDate&&this.emailAddress&&this.comments))return void l().fire({title:"Error",text:"Por favor, complete todos los campos.",icon:"error"});if(!/^\d{10}$/.test(this.documentId))return void l().fire({title:"Error",text:"El n\xfamero de c\xe9dula debe contener solo n\xfameros y tener 10 d\xedgitos.",icon:"error"});if(!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(this.emailAddress))return void l().fire({title:"Error",text:"Ingrese una direcci\xf3n de correo electr\xf3nico v\xe1lida.",icon:"error"});const a=new _(this.branchId,this.typeDocumentId,this.documentId,this.firstName,this.lastName,this.gender,this.birthDate,this.emailAddress,this.role,this.comments,this.phoneNumbers,this.addresses);console.log(a),this.clienteService.create(a).subscribe(r=>{l().fire({title:"\xa1\xc9xito!",text:"El usuario se ha guardado correctamente, complete el formulario de telefono",icon:"success"}).then(()=>{this.isSaved=!0,this.errorMessage=null,this.router.navigate(["/admin/gestion-naturales/createPhone/"+this.typeDocumentId+"/"+this.documentId])},i=>{l().fire({title:"Error",text:"Error al guardar el usuario. Por favor, int\xe9ntalo nuevamente.",icon:"error"}),this.isSaved=!1,this.errorMessage="Error al guardar el usuario. Por favor, int\xe9ntalo nuevamente."})})}getCurrentDate(){const a=new Date;return`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(t.$),e.Y36(u.F0),e.Y36(g.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create"]],decls:78,vars:29,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"flex","w-full","justify-center","items-center","h-screen","bg-white"],[1,"w-full","max-w-md","p-4","justify-center"],[1,"text-center"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"grid","grid-cols-2","gap-4"],["for","branchId",1,"block","mb-1"],["id","branchId","name","branchId","required","",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","typeDocumentId",1,"block","mb-1"],["id","typeDocumentId","name","typeDocumentId","required","",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],["value","IDE"],["value","PAS"],["class","text-red-500 mt-1",4,"ngIf"],["for","documentId",1,"block","mb-1"],["type","text","id","documentId","name","documentId","placeholder","Ingrese el n\xfamero de documento","autocomplete","off","required","","pattern","[0-9]{10}",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],["documentIdInput","ngModel"],["for","firstName",1,"block","mb-1"],["type","text","id","firstName","name","firstName","placeholder","Ingrese el nombre","autocomplete","off","required","","pattern","[A-Za-z ]+",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],["firstNameInput","ngModel"],["for","lastName",1,"block","mb-1"],["type","text","id","lastName","name","lastName","placeholder","Ingrese el apellido","autocomplete","off","required","","pattern","[A-Za-z ]+",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],["lastNameInput","ngModel"],["for","gender",1,"block","mb-1"],["id","gender","name","gender","required","",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],["value","MAS"],["value","FEM"],["for","birthDate",1,"block","mb-1"],["type","date","id","birthDate","name","birthDate","placeholder","Seleccione la fecha de nacimiento","required","",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","max","ngModelChange"],["for","emailAddress",1,"block","mb-1"],["type","email","id","emailAddress","name","emailAddress","placeholder","Ingrese el correo electr\xf3nico","autocomplete","off","required","","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}",1,"w-full","border-gray-300","border","p-2","rounded","h-10",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["for","comments",1,"block","mb-1"],["id","comments","name","comments","rows","3","placeholder","Ingrese los comentarios",1,"w-full","border-gray-300","border","p-2","rounded",3,"ngModel","ngModelChange"],[1,"bg-green-500","text-white","w-full","py-2","rounded","mt-3",3,"disabled"],[1,"fas","fa-plus-circle"],["routerLink","../",1,"bg-blue-500","text-white","w-full","py-2","rounded","mt-3"],[1,"fas","fa-arrow-alt-circle-left"],["class","text-center mt-3",4,"ngIf"],[3,"value"],[1,"text-red-500","mt-1"],[1,"text-center","mt-3"],[3,"ngClass"]],template:function(a,r){if(1&a&&(e.TgZ(0,"html",0),e.TgZ(1,"head"),e._UZ(2,"meta",1),e._UZ(3,"meta",2),e.TgZ(4,"title"),e._uU(5,"Crear Cliente"),e.qZA(),e.qZA(),e.TgZ(6,"body"),e.TgZ(7,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"h4",5),e._uU(10,"Crear Cliente"),e.qZA(),e.TgZ(11,"form",6,7),e.NdJ("ngSubmit",function(){return r.onCreate()}),e.TgZ(13,"div",8),e.TgZ(14,"div"),e.TgZ(15,"label",9),e._uU(16,"Sucursal:"),e.qZA(),e.TgZ(17,"select",10),e.NdJ("ngModelChange",function(o){return r.branchId=o}),e.YNc(18,T,2,2,"option",11),e.qZA(),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"label",12),e._uU(21,"Tipo de documento:"),e.qZA(),e.TgZ(22,"select",13),e.NdJ("ngModelChange",function(o){return r.typeDocumentId=o}),e.TgZ(23,"option",14),e._uU(24,"C\xe9dula"),e.qZA(),e.TgZ(25,"option",15),e._uU(26,"Pasaporte"),e.qZA(),e.qZA(),e.YNc(27,M,2,0,"div",16),e.qZA(),e.TgZ(28,"div"),e.TgZ(29,"label",17),e._uU(30,"N\xfamero de documento:"),e.qZA(),e.TgZ(31,"input",18,19),e.NdJ("ngModelChange",function(o){return r.documentId=o}),e.qZA(),e.YNc(33,y,2,0,"div",16),e.qZA(),e.TgZ(34,"div"),e.TgZ(35,"label",20),e._uU(36,"Nombre:"),e.qZA(),e.TgZ(37,"input",21,22),e.NdJ("ngModelChange",function(o){return r.firstName=o}),e.qZA(),e.YNc(39,U,2,0,"div",16),e.qZA(),e.TgZ(40,"div"),e.TgZ(41,"label",23),e._uU(42,"Apellido:"),e.qZA(),e.TgZ(43,"input",24,25),e.NdJ("ngModelChange",function(o){return r.lastName=o}),e.qZA(),e.YNc(45,I,2,0,"div",16),e.qZA(),e.TgZ(46,"div"),e.TgZ(47,"label",26),e._uU(48,"G\xe9nero:"),e.qZA(),e.TgZ(49,"select",27),e.NdJ("ngModelChange",function(o){return r.gender=o}),e.TgZ(50,"option",28),e._uU(51,"Masculino"),e.qZA(),e.TgZ(52,"option",29),e._uU(53,"Femenino"),e.qZA(),e.qZA(),e.YNc(54,q,2,0,"div",16),e.qZA(),e.TgZ(55,"div"),e.TgZ(56,"label",30),e._uU(57,"Fecha de nacimiento:"),e.qZA(),e.TgZ(58,"input",31),e.NdJ("ngModelChange",function(o){return r.birthDate=o}),e.qZA(),e.YNc(59,N,2,0,"div",16),e.qZA(),e.TgZ(60,"div"),e.TgZ(61,"label",32),e._uU(62,"Correo electr\xf3nico:"),e.qZA(),e.TgZ(63,"input",33,34),e.NdJ("ngModelChange",function(o){return r.emailAddress=o}),e.qZA(),e.YNc(65,E,2,0,"div",16),e.qZA(),e.TgZ(66,"div"),e.TgZ(67,"label",35),e._uU(68,"Comentarios:"),e.qZA(),e.TgZ(69,"textarea",36),e.NdJ("ngModelChange",function(o){return r.comments=o}),e.qZA(),e.YNc(70,x,2,0,"div",16),e.qZA(),e.qZA(),e.TgZ(71,"button",37),e._UZ(72,"i",38),e._uU(73," Crear "),e.qZA(),e.TgZ(74,"button",39),e._UZ(75,"i",40),e._uU(76," Volver "),e.qZA(),e.qZA(),e.YNc(77,J,3,5,"div",41),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.MAs(12),o=e.MAs(32),m=e.MAs(38),h=e.MAs(44),p=e.MAs(64);e.xp6(17),e.Q6J("ngModel",r.branchId),e.xp6(1),e.Q6J("ngForOf",r.agencias),e.xp6(4),e.Q6J("ngModel",r.typeDocumentId),e.xp6(5),e.Q6J("ngIf",i.submitted&&i.controls.typeDocumentId.invalid),e.xp6(4),e.ekj("border-red-500",o.invalid&&(o.dirty||o.touched)),e.Q6J("ngModel",r.documentId),e.xp6(2),e.Q6J("ngIf",o.invalid&&(o.dirty||o.touched)),e.xp6(4),e.ekj("border-red-500",m.invalid&&(m.dirty||m.touched)),e.Q6J("ngModel",r.firstName),e.xp6(2),e.Q6J("ngIf",m.invalid&&(m.dirty||m.touched)),e.xp6(4),e.ekj("border-red-500",h.invalid&&(h.dirty||h.touched)),e.Q6J("ngModel",r.lastName),e.xp6(2),e.Q6J("ngIf",h.invalid&&(h.dirty||h.touched)),e.xp6(4),e.Q6J("ngModel",r.gender),e.xp6(5),e.Q6J("ngIf",i.submitted&&i.controls.gender.invalid),e.xp6(4),e.s9C("max",r.getCurrentDate()),e.Q6J("ngModel",r.birthDate),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.controls.birthDate.invalid),e.xp6(4),e.ekj("border-red-500",p.invalid&&(p.dirty||p.touched)),e.Q6J("ngModel",r.emailAddress),e.xp6(2),e.Q6J("ngIf",p.invalid&&(p.dirty||p.touched)),e.xp6(4),e.Q6J("ngModel",r.comments),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.controls.comments.invalid),e.xp6(1),e.Q6J("disabled",!i.valid),e.xp6(6),e.Q6J("ngIf",null!==r.isSaved)}},directives:[c._Y,c.JL,c.F,c.EJ,c.Q7,c.JJ,c.On,b.sg,c.YN,c.Kr,b.O5,c.Fj,c.c5,u.rH,b.mk],styles:[""]}),n})()},3949:(A,C,d)=>{d.d(C,{Y:()=>v});var _=d(2340),f=d(7716),Z=d(1841);let v=(()=>{class l{constructor(t){this.http=t,this.baseURL=_.N.administrationAPIUrl+"/api/v1"}list(t){return this.http.get(this.baseURL+"/bankEntity/Branches-location-state/"+t+"/ACT")}listProv(){return this.http.get(this.baseURL+"/geoLocation/countryCode-levelCode/ECU/1")}listAllAgencies(){return this.http.get(this.baseURL+"/bankEntity/findAllBranches/ACT")}listCant(t){return console.log(this.baseURL+"/geoLocation/CountryCodeAndParentName?countryCode=ECU&parentName="+t),this.http.get(this.baseURL+"/geoLocation/CountryCodeAndParentName?countryCode=ECU&parentName="+t)}listParr(t){return this.http.get(this.baseURL+"/geoLocation/CountryCodeAndParentName?countryCode=ECU&parentName="+t)}create(t){return this.http.post(this.baseURL+"/bankEntity/addBranch",t)}detail(t){return this.http.get(this.baseURL+`/bankEntity/findBranch/${t}`)}update(t,u){return this.http.put(this.baseURL+"/bankEntity/updateBranch/"+t,u)}delete(t){return this.http.put(this.baseURL+"/bankEntity/deleteBranch/"+t,null)}}return l.\u0275fac=function(t){return new(t||l)(f.LFG(Z.eN))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},4715:(A,C,d)=>{d.d(C,{$:()=>v});var _=d(2340),f=d(7716),Z=d(1841);let v=(()=>{class l{constructor(t){this.httpClient=t,this.clienteURL=_.N.apiResrURL+"/api/v2/clients"}list(){return this.httpClient.get(this.clienteURL)}detail(t,u){return this.httpClient.get(this.clienteURL+`/${t}/${u}`)}create(t){return this.httpClient.post(this.clienteURL,t)}update(t,u,g){return this.httpClient.put(`${this.clienteURL}/update/${t}/${u}`,g)}delete(t,u,g){return this.httpClient.put(`${this.clienteURL}/deleteClient/${t}/${u}`,g)}createPhone(t,u,g){return this.httpClient.put(`${this.clienteURL}/phones/${t}/${u}`,g)}createAddress(t,u,g){return this.httpClient.put(`${this.clienteURL}/addresses/${t}/${u}`,g)}}return l.\u0275fac=function(t){return new(t||l)(f.LFG(Z.eN))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);