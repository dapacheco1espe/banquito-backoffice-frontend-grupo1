"use strict";(self.webpackChunk_fuse_starter=self.webpackChunk_fuse_starter||[]).push([[592],{9211:(_,m,r)=>{r.d(m,{G:()=>Z});class p{constructor(g,n,s){this.groupRole=g,this.clientId=n,this.state=s}}var c=r(8259),e=r.n(c),t=r(7716),i=r(4715),l=r(5128),o=r(3423),a=r(3679);let Z=(()=>{class u{constructor(n,s,d,h){this.clienteService=n,this.companyService=s,this.router=d,this.activatedRoute=h,this.uniqueKey=this.activatedRoute.snapshot.params.uniqueKey,this.firstName=this.activatedRoute.snapshot.params.firstName,this.groupName=this.activatedRoute.snapshot.params.groupName,this.isSaved=null,this.memberArray=[],this.errorMessage=null}ngOnInit(){}onUpdate(){console.log(this.firstName);const n=new p(this.groupRole,this.uniqueKey,this.state);this.memberArray.push(n),this.companyService.createMember(this.groupName,this.memberArray).subscribe(s=>{e().fire({title:"\xa1\xc9xito!",text:"Miembro agregado correctamente.",icon:"success"}).then(()=>{this.isSaved=!0,this.errorMessage=null,this.router.navigate(["/admin/gestion-juridicos"])})},s=>{e().fire({title:"Error",text:"Error al guardar el miembro. Por favor, int\xe9ntalo nuevamente.",icon:"error"}),this.isSaved=!1,this.errorMessage="Error al guardar la informacion. Por favor, int\xe9ntalo nuevamente."})}}return u.\u0275fac=function(n){return new(n||u)(t.Y36(i.$),t.Y36(l.J),t.Y36(o.F0),t.Y36(o.gz))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-member"]],decls:22,vars:2,consts:[[1,"container","mx-auto","mt-5","bg-white","w-full"],[1,"max-w-md","mx-auto"],[1,"text-center","text-lg","font-bold"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["for","groupRole",1,"block","text-sm","font-medium","text-gray-700"],["id","groupRole","name","groupRole",1,"form-select","mt-1","block","w-full",3,"ngModel","ngModelChange"],["value","GERENTE"],["value","SUBGERENTE"],["value","REPRESENTANTE LEGAL"],[1,"bg-green-500","text-white","font-bold","py-2","px-4","w-full","mb-3",3,"disabled"],[1,"far","fa-edit"],["routerLink","../../",1,"bg-blue-500","text-white","font-bold","py-2","px-4","w-full"],[1,"fas","fa-arrow-alt-circle-left"]],template:function(n,s){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4",2),t._uU(3,"Crear Rol"),t.qZA(),t.TgZ(4,"form",3,4),t.NdJ("ngSubmit",function(){return s.onUpdate()}),t.TgZ(6,"div",5),t.TgZ(7,"label",6),t._uU(8,"A\xf1adir Miembro:"),t.qZA(),t.TgZ(9,"select",7),t.NdJ("ngModelChange",function(h){return s.groupRole=h}),t.TgZ(10,"option",8),t._uU(11,"GERENTE"),t.qZA(),t.TgZ(12,"option",9),t._uU(13,"SUBGERENTE"),t.qZA(),t.TgZ(14,"option",10),t._uU(15,"REPRESENTANTE LEGAL"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"button",11),t._UZ(17,"i",12),t._uU(18," Guardar "),t.qZA(),t.TgZ(19,"button",13),t._UZ(20,"i",14),t._uU(21," Regresar "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const d=t.MAs(5);t.xp6(9),t.Q6J("ngModel",s.groupRole),t.xp6(7),t.Q6J("disabled",!d.valid)}},directives:[a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,a.YN,a.Kr,o.rH],styles:[""]}),u})()},7841:(_,m,r)=>{r.d(m,{z:()=>Z});var p=r(8259),c=r.n(p),e=r(7716),t=r(4715),i=r(3423),l=r(3679),o=r(8583);function a(u,g){if(1&u&&(e.TgZ(0,"tr",16),e.TgZ(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e.qZA(),e.TgZ(7,"td",17),e._uU(8),e.qZA(),e.TgZ(9,"td",17),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",17),e._uU(13),e.qZA(),e.TgZ(14,"td",17),e._uU(15),e.qZA(),e.TgZ(16,"td",17),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"td",17),e._uU(20),e.ALo(21,"date"),e.qZA(),e.qZA()),2&u){const n=e.oxw();e.xp6(2),e.Oqu(n.cliente.documentId),e.xp6(2),e.Oqu(n.cliente.firstName),e.xp6(2),e.Oqu(n.cliente.lastName),e.xp6(2),e.Oqu(n.cliente.phoneNumbers[0].phoneNumber),e.xp6(2),e.Oqu(e.xi3(11,9,n.cliente.birthDate,"yyyy/MM/dd")),e.xp6(3),e.Oqu(n.cliente.emailAddress),e.xp6(2),e.Oqu(n.cliente.state),e.xp6(2),e.Oqu(e.xi3(18,12,n.cliente.creationDate,"short")),e.xp6(3),e.Oqu(e.xi3(21,15,n.cliente.lastModifiedDate,"short"))}}let Z=(()=>{class u{constructor(n,s,d){this.clienteService=n,this.router=s,this.activatedRoute=d,this.groupName=this.activatedRoute.snapshot.params.groupName,this.uniqueKey=this.activatedRoute.snapshot.params.uniqueKey}ngOnInit(){this.getCliente()}getCliente(){this.clienteService.detail(this.typeDocumentId,this.documentId).subscribe(n=>{this.cliente=n,console.log(this.cliente)},n=>{})}buscarCliente(){console.log(this.activatedRoute.snapshot.params.uniqueKey),this.clienteService.detail(this.typeDocumentId,this.documentId).subscribe(n=>{this.cliente=n,this.uniqueKey=this.cliente.uniqueKey,console.log(this.uniqueKey),c().fire({icon:"success",title:"Cliente encontrado Asigne Empresa",text:"La informaci\xf3n del cliente ha sido cargada correctamente.",confirmButtonText:"Aceptar"}).then(()=>{this.router.navigate(["/admin/gestion-juridicos/createMember/"+this.groupName+"/"+this.uniqueKey])})},n=>{c().fire({icon:"error",title:"Error",text:"El cliente no pudo ser encontrado.",confirmButtonText:"Aceptar"}),this.router.navigate(["/gestion/gestion-naturales"])})}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(t.$),e.Y36(i.F0),e.Y36(i.gz))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-updatemember"]],decls:48,vars:3,consts:[[1,"w-full","rounded-md","bg-white","p-5"],[1,"flex","flex-wrap","w-full"],[1,"w-full","sm:w-1/2","md:w-1/3","lg:w-1/4","xl:w-1/4","m-2","hover:animate-spin"],[1,"font-bold","text-3xl","text-blue-600"],[1,"text-gray-400"],[1,"flex","border-b-2","border-primary-500","py-2"],[1,"flex","items-end"],[1,"relative","flex-grow:3","focus-within:z-10"],["placeholder","Select",1,"block","w-36","sm:w-40","pl-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-blue-500","focus:border-blue-500","text-sm","transition","duration-150","ease-in-out","mr-2",3,"ngModel","ngModelChange"],["value","IDE"],["value","PAS"],[1,"block","w-36","sm:w-40","pl-3","py-2","border","border-gray-300","rounded-md","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-blue-500","focus:border-blue-500","text-sm","transition","duration-150","ease-in-out","mr-2",3,"ngModel","ngModelChange"],[1,"ml-2","focus:outline-none","px-4","py-2","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2",3,"click"],[1,"border-collapse","w-full","table-auto","mt-4"],[1,"px-4","py-2"],["class","cursor-pointer hover:bg-blue-300 text-sm",4,"ngIf"],[1,"cursor-pointer","hover:bg-blue-300","text-sm"],[1,"border","px-4","py-2","text-center"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e.TgZ(4,"h1",3),e._uU(5,"Roles"),e.qZA(),e.TgZ(6,"p",4),e._uU(7,"Asignar Rol a una Empresa."),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"label"),e._uU(12,"Tipo de Documento*"),e.qZA(),e.TgZ(13,"select",8),e.NdJ("ngModelChange",function(h){return s.typeDocumentId=h}),e.TgZ(14,"option",9),e._uU(15,"Cedula"),e.qZA(),e.TgZ(16,"option",10),e._uU(17,"Pasaporte"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",7),e.TgZ(19,"label"),e._uU(20,"N\xb0 Documento*"),e.qZA(),e.TgZ(21,"input",11),e.NdJ("ngModelChange",function(h){return s.documentId=h}),e.qZA(),e.qZA(),e.TgZ(22,"button",12),e.NdJ("click",function(){return s.buscarCliente()}),e._uU(23," Buscar "),e.qZA(),e.qZA(),e.TgZ(24,"div"),e.TgZ(25,"table",13),e.TgZ(26,"thead"),e.TgZ(27,"tr"),e.TgZ(28,"th",14),e._uU(29,"N\xb0 Documento"),e.qZA(),e.TgZ(30,"th",14),e._uU(31,"Nombre"),e.qZA(),e.TgZ(32,"th",14),e._uU(33,"Apellido"),e.qZA(),e.TgZ(34,"th",14),e._uU(35,"Genero"),e.qZA(),e.TgZ(36,"th",14),e._uU(37,"Fecha Nacimiento"),e.qZA(),e.TgZ(38,"th",14),e._uU(39,"Email"),e.qZA(),e.TgZ(40,"th",14),e._uU(41,"Estado"),e.qZA(),e.TgZ(42,"th",14),e._uU(43,"Creacion"),e.qZA(),e.TgZ(44,"th",14),e._uU(45,"Modificacion"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"tbody"),e.YNc(47,a,22,18,"tr",15),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(13),e.Q6J("ngModel",s.typeDocumentId),e.xp6(8),e.Q6J("ngModel",s.documentId),e.xp6(26),e.Q6J("ngIf",s.cliente))},directives:[l.EJ,l.JJ,l.On,l.YN,l.Kr,l.Fj,o.O5],pipes:[o.uU],styles:[""]}),u})()},5128:(_,m,r)=>{r.d(m,{J:()=>t});var p=r(2340),c=r(7716),e=r(1841);let t=(()=>{class i{constructor(o){this.httpClient=o,this.companyURL=p.N.apiResrURL+"/api/v2/companies"}list(){return this.httpClient.get(this.companyURL)}detail(o){return this.httpClient.get(this.companyURL+`/${o}`)}create(o){return this.httpClient.post(this.companyURL,o)}update(o,a){return this.httpClient.put(`${this.companyURL}/updateCompany/${o}`,a)}delete(o,a){return this.httpClient.put(`${this.companyURL}/deleteCompany/${o}`,a)}createMember(o,a){return this.httpClient.put(`${this.companyURL}/addMember/${o}`,a)}}return i.\u0275fac=function(o){return new(o||i)(c.LFG(e.eN))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},4641:(_,m,r)=>{r.d(m,{I:()=>t});var p=r(2340),c=r(7716),e=r(1841);let t=(()=>{class i{constructor(o){this.http=o,this.baseURL=p.N.administrationAPIUrl+"/api/v1"}list(){return this.http.get(this.baseURL+"/geoCountry/findCountriesList")}getGeostructureByCode(o){return this.http.get(this.baseURL+"/geoCountry/findByCountryCode/"+o)}getGeoById(o){return this.http.get(this.baseURL+"/geoLocation/findByUuid/"+o)}create(o){return this.http.post(this.baseURL+"/geoCountry/create",o)}detail(o){return this.http.get(this.baseURL+`/geoCountry/findByCountryCode/${o}`)}update(o,a){return this.http.put(this.baseURL+"/geoCountry/update/"+o,a)}delete(o){return this.http.put(this.baseURL+"/geoCountry/deleteLogic/"+o,o)}}return i.\u0275fac=function(o){return new(o||i)(c.LFG(e.eN))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7080:(_,m,r)=>{r.d(m,{a:()=>t});var p=r(2340),c=r(7716),e=r(1841);let t=(()=>{class i{constructor(o){this.http=o,this.baseURL=p.N.administrationAPIUrl+"/api/v1"}list(o,a){return this.http.get(this.baseURL+"/geoLocation/countryCode-levelCode/"+o+"/"+a)}listAllLocations(){return this.http.get(this.baseURL+"/geoLocation/countryCode-levelCode/ECU/1")}create(o){return this.http.post(this.baseURL+"/geoLocation/create",o)}detail(o){return this.http.get(this.baseURL+"/geoLocation/findByUuid/"+o)}update(o,a){return this.http.put(this.baseURL+"/geoLocation/update/"+o,a)}delete(o){return this.http.delete(this.baseURL+"/geoLocation/delete/"+o)}}return i.\u0275fac=function(o){return new(o||i)(c.LFG(e.eN))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);